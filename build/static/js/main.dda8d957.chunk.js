(this.webpackJsonpbandages=this.webpackJsonpbandages||[]).push([[0],{44:function(e,t,n){},46:function(e,t,n){},69:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(21),s=n.n(c),i=(n(44),n(14)),o=n.n(i),u=n(15),l=n(3),d=(n(46),n(4)),j=n(8),b="Set User",h="Clear User";function O(e){return{type:b,username:e}}function m(){return{type:h}}var x="Add Tour",g="Delete Tour";var p=n(5),f="Set Gear";var v=n(9),k=n.n(v),w=(n(69),n(0)),y={setUser:O};var N=Object(j.c)((function(e){return{}}),y)((function(e){var t=Object(d.g)(),n=Object(a.useState)(""),r=Object(l.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),j=Object(l.a)(i,2),b=j[0],h=j[1],O=Object(a.useState)(""),m=Object(l.a)(O,2),x=m[0],g=m[1];function p(){return(p=Object(u.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(g(""),!(c.length<8||c.length>16||b.length>20||b.length<8)){n.next=4;break}return g("Username must be between 8 and 16 characters. Password must be between 8 and 20 characters."),n.abrupt("return");case 4:return n.prev=4,n.next=7,k.a.post("/users/signup",{username:c,password:b});case 7:(a=n.sent).data.error?g(a.data.error):(e.setUser(a.data.data.username),t.push("/gearlist")),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),g("Something went wrong, please try again later.");case 14:case"end":return n.stop()}}),n,null,[[4,11]])})))).apply(this,arguments)}return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{className:"text-center",children:"Sign Up"}),Object(w.jsxs)("div",{className:"form",children:[Object(w.jsx)("div",{className:"form-container",children:Object(w.jsx)("input",{className:"input",value:c,onChange:function(e){return s(e.target.value)},type:"text",placeholder:"Choose Username",id:"username"})}),Object(w.jsx)("div",{className:"form-container",children:Object(w.jsx)("input",{className:"input",value:b,onChange:function(e){return h(e.target.value)},type:"password",placeholder:"Choose Password",id:"password"})}),Object(w.jsx)("button",{className:"submit",onClick:function(){return function(){return p.apply(this,arguments)}()},children:"Submit"}),x.length>0&&Object(w.jsx)("h3",{style:{color:"red"},className:"text-center",children:x})]})]})})),C=function(e){var t=e.gear,n=e.deleteGear,a=e.toggleOnTour,r=e.changeInsured;return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"gear-item",children:[Object(w.jsx)("button",{className:"gear-delete",onClick:function(){return n(t.id)},children:"\xd7"}),Object(w.jsxs)("div",{className:"gear-name",children:[Object(w.jsx)("strong",{children:t.bandmate}),Object(w.jsx)("div",{className:"gear-item-name",children:t.item}),Object(w.jsxs)("div",{className:"gear-notes",children:[Object(w.jsx)("div",{className:"gear-note-title",children:"Notes:"}),t.notes]})]}),Object(w.jsxs)("label",{className:t.insured?"gear-checkbox gear-checkbox-checked":"gear-checkbox",htmlFor:"insured_checkbox_"+t.id,children:[Object(w.jsx)("input",{name:"insured-checkbox",type:"checkbox",id:"insured_checkbox_"+t.id,checked:t.insured,onChange:function(){return r(t.id)}}),"Insured"]}),Object(w.jsxs)("label",{className:t.on_tour?"gear-checkbox gear-checkbox-checked":"gear-checkbox",htmlFor:"ontour_checkbox_"+t.id,children:[Object(w.jsx)("input",{name:"ontour-checkbox",id:"ontour_checkbox_"+t.id,type:"checkbox",checked:t.on_tour,onChange:function(){return a(t.id)}}),"On Tour"]})]})})},S=n(20),T=[{id:1,insured:!0,bandmate:"Matt",item:"ZVEX Machine",notes:"purchased 2016",onTour:!1},{id:2,insured:!1,bandmate:"Alex",item:"Fender Precision Bass",notes:"olympic white",onTour:!0},{id:3,insured:!0,bandmate:"Sara",item:"Moog Minitaur",notes:"Serial No. MT08645",onTour:!1},{id:4,insured:!1,bandmate:"Alex ",item:"Aguilar TH350",notes:"purchased at Midwood Guitar Studio",onTour:!1},{id:5,insured:!1,bandmate:"Nate ",item:"Ludwig Vistalite Drum Kit",notes:"transparent dark red",onTour:!0},{id:6,insured:!1,bandmate:"Matt",item:"Orange AD140",notes:"Serial No. 1350-08-04",onTour:!1},{id:7,insured:!0,bandmate:"Sara",item:"Fender Jaguar",notes:"olympic white",onTour:!0},{id:8,insured:!1,bandmate:"Matt",item:"Gibson Firebird",notes:"gift from Sara",onTour:!0}],F=r.a.createContext(),L=function(e){var t=function(e){var t=Object(a.useState)(e),n=Object(l.a)(t,2),r=n[0],c=n[1];return{all:Object(a.useCallback)((function(){k.a.get("/gear/all").then((function(e){c(e.data.data)}))})),value:r,toggleOnTour:Object(a.useCallback)((function(e){var t=r.map((function(t){return t.id===e?Object(p.a)(Object(p.a)({},t),{},{on_tour:!t.on_tour}):t}));k.a.patch("/gear/update",t.find((function(t){return t.id===e}))).then((function(e){c(t)}))})),add:Object(a.useCallback)((function(e){k.a.post("/gear/add",e).then((function(t){c((function(t){return[].concat(Object(S.a)(t),[e])}))}))})),changeInsured:Object(a.useCallback)((function(e){c((function(t){return t.map((function(t){return t.id===e?Object(p.a)(Object(p.a)({},t),{},{insured:!t.insured}):t}))})),k.a.patch("/gear/update",r.find((function(t){return t.id===e}))).then((function(e){console.log("data updated")}))})),clear:Object(a.useCallback)((function(){return c([])})),deleteGear:Object(a.useCallback)((function(e){k.a.delete("/gear/delete/:".concat(e)).then((function(t){return c((function(t){return t.filter((function(t){return t&&t.id!==e}))}))}))}))}}(T);return Object(w.jsx)(F.Provider,{value:t,children:e.children})},A=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)("bandmate"),s=Object(l.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)(1),d=Object(l.a)(u,2),j=d[0],b=d[1],h=Object(a.useContext)(F);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"center",children:Object(w.jsx)("input",{className:"display",value:n,placeholder:"Filter",onChange:function(e){r(e.target.value)}})}),Object(w.jsxs)("div",{className:"center display",children:[Object(w.jsx)("label",{children:"Sort"}),Object(w.jsxs)("select",{value:i,onChange:function(e){return o(e.target.value)},children:[Object(w.jsx)("option",{value:"id",children:"ID"}),Object(w.jsx)("option",{value:"bandmate",children:"Bandmate"}),Object(w.jsx)("option",{value:"item",children:"Item"})]}),Object(w.jsx)("label",{children:"Order"}),Object(w.jsxs)("select",{value:j,onChange:function(e){return b(e.target.value)},children:[Object(w.jsx)("option",{value:"1",children:"A-Z"}),Object(w.jsx)("option",{value:"-1",children:"Z-A"})]})]}),Object(w.jsx)("div",{className:"center display",children:Object(w.jsx)("button",{onClick:function(){return h.clear()},children:"Clear All Gear"})}),Object(w.jsx)("div",{className:"title-bar",children:Object(w.jsx)("strong",{children:"Bandmate Item Notes"})}),Object(w.jsx)("div",{className:"listArea",children:h.value.filter((function(e){var t=n.toLowerCase(),a=e.bandmate.toLowerCase(),r=e.item.toLowerCase();return!(!a.includes(t)&&!r.includes(t))})).sort((function(e,t){return"id"===i?(e.id-t.id)*j:e[i].toLowerCase()<t[i].toLowerCase()?-1*j:e[i].toLowerCase()>t[i].toLowerCase()?1*j:0})).map((function(e,t){return Object(a.createElement)(C,Object(p.a)(Object(p.a)({},h),{},{gear:e,key:t}))}))})]})},U=(n(72),function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(l.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)(""),d=Object(l.a)(u,2),j=d[0],b=d[1],h=Object(a.useContext)(F);return Object(a.useEffect)((function(){return h.all(),function(){}}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{className:"center",children:"Gear List:"}),Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{htmlFor:"bandmate"}),Object(w.jsx)("input",{id:"bandmate",className:"bandmate",value:n,placeholder:"Name",onChange:function(e){return r(e.target.value)},type:"text"}),Object(w.jsx)("label",{htmlFor:"item"}),Object(w.jsx)("input",{id:"item",value:i,placeholder:"Item",onChange:function(e){return o(e.target.value)},type:"text"}),Object(w.jsx)("label",{htmlFor:"notes"}),Object(w.jsx)("input",{id:"notes",value:j,placeholder:"Notes",onChange:function(e){return b(e.target.value)},type:"text"})]}),Object(w.jsxs)("p",{className:"center",children:[n," ",i," ",j]}),Object(w.jsx)("div",{className:"center",children:Object(w.jsx)("button",{className:"display",type:"submit",value:"addGear",onClick:function(){var e={item:i,notes:j,insured:!1,bandmate:n};h&&(h.add(e),r(""),o(""),b(""))},children:"Submit"})}),Object(w.jsx)("div",{children:Object(w.jsx)(A,{})})]})}),_=n(13),I=(n(73),{setUser:O});var G=Object(j.c)((function(e){return{}}),I)((function(e){var t=Object(d.g)(),n=Object(a.useState)(""),r=Object(l.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),j=Object(l.a)(i,2),b=j[0],h=j[1],O=Object(a.useState)(""),m=Object(l.a)(O,2),x=m[0],g=m[1];function p(){return(p=Object(u.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(g(""),!(c.length<8||c.length>16||b.length>20||b.length<8)){n.next=4;break}return g("Username must be between 8 and 16 characters and Password must be between 8 and 20 characters"),n.abrupt("return");case 4:return n.prev=4,n.next=7,k.a.post("/users/login",{username:c,password:b});case 7:(a=n.sent).data.error?g(a.data.error):(e.setUser(a.data.data.username),t.push("/gearlist")),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),g("Something went wrong, please try again later.");case 14:case"end":return n.stop()}}),n,null,[[4,11]])})))).apply(this,arguments)}return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{children:"Hello!"}),Object(w.jsx)("p",{children:"Bandages is here to help you manage your band's gear. Keep track of your inventory through our website and mark items that you take on tour with you! Did you know bands traveling between borders need to have a detailed documentation of instruments? They also ask you how much is in your bank account, it's a little weird. It's just kind of nice to have a list of what you have anyway. If your mom was in the band with you, she would tell you do this! Listen to her and don't forget to call her once in a while. Remember, she used to cook food for you."}),Object(w.jsx)("h3",{children:"Login"}),Object(w.jsxs)("main",{children:[Object(w.jsx)("div",{children:Object(w.jsx)("input",{id:"username",type:"text",onChange:function(e){return s(e.target.value)},placeholder:"Username",value:c})}),Object(w.jsx)("div",{children:Object(w.jsx)("input",{id:"password",type:"Password",onChange:function(e){return h(e.target.value)},placeholder:"Password",value:b})}),Object(w.jsx)("button",{onClick:function(){return function(){return p.apply(this,arguments)}()},children:"Submit"}),x.length>0&&Object(w.jsx)("h3",{style:{color:"red"},className:"text-center",children:x}),Object(w.jsxs)("p",{children:["Create an account ",Object(w.jsx)(_.b,{to:"/signup",children:"here"}),"!"]})]})]})})),M=function(){var e=Object(a.useContext)(F),t=e.value.filter((function(e){return e.on_tour}));return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{children:"On Tour"}),Object(w.jsx)("img",{src:"https://i.ibb.co/zQY4MqD/minivan-final.jpg",alt:"Vrooooom"}),Object(w.jsx)("div",{children:t.map((function(t){return Object(w.jsx)(C,Object(p.a)({gear:t},e))}))})]})},P={onTour:[],gearList:[],user:{username:"",id:null,role:""}},B=r.a.createContext(null),D=n(29),R=function(e){return e.user},q=function(e){return e.user.username},E=function(e){var t=e.isAuth,n=e.authRequired,a=e.component,r=e.path,c=n?"/home":"/gearlist";return n&&!t||!n&&t?Object(w.jsx)(d.a,{to:c}):Object(w.jsx)(d.b,{path:r,component:a})};var H=function(){var e=Object(a.useState)(P),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(D.b)(q,R),s=Object(l.a)(c,2),i=s[0],j=s[1],b=Object(D.a)(m,O),h=Object(l.a)(b,2),x=h[0],g=h[1],p=Object(a.useMemo)((function(){return i&&i.length>0}),[j]);function f(){return(f=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k()("/users/logout");case 3:t=e.sent,t.data,x(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Logout");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(a.useEffect)(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("/users/authenticate");case 3:(t=e.sent).data.success&&g(t.data.data.username),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Object(w.jsx)(B.Provider,{value:[n,r],children:Object(w.jsx)(L,{children:Object(w.jsx)(_.a,{children:Object(w.jsxs)("div",{children:[Object(w.jsx)("header",{className:"top",children:Object(w.jsx)(_.b,{to:"/Home",children:Object(w.jsx)("img",{src:"https://i.ibb.co/dgxRBQg/bandages-final.jpg",alt:"Bandages logo"})})}),Object(w.jsxs)("nav",{className:"navbar",children:[i&&0===i.length&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(_.c,{className:"link",to:"/Home",children:"Home"}),Object(w.jsx)(_.c,{className:"link",to:"/SignUp",children:"Sign Up"})]}),i&&i.length>0&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(_.c,{className:"link",to:"/GearList",children:"Gear List"}),Object(w.jsx)(_.c,{className:"link",to:"/OnTour",children:"On Tour"})]})]}),Object(w.jsx)("main",{children:Object(w.jsxs)(d.d,{children:[Object(w.jsx)(E,{isAuth:p,authRequired:!1,path:"/home",component:G}),Object(w.jsx)(E,{isAuth:p,authRequired:!1,path:"/signup",component:N}),Object(w.jsx)(E,{isAuth:p,authRequired:!0,path:"/gearlist",component:U}),Object(w.jsx)(E,{isAuth:p,authRequired:!0,path:"/ontour",component:M}),Object(w.jsx)(d.b,{path:"*",children:Object(w.jsx)(d.a,{to:"/home"})})]})}),Object(w.jsx)("div",{className:"logout",children:i&&i.length>0&&Object(w.jsx)("button",{onClick:function(){return function(){return f.apply(this,arguments)}()},children:"Logout"})}),Object(w.jsx)("footer",{className:"bottom",children:Object(w.jsx)("a",{href:"https://github.com/sarabertuldo",children:Object(w.jsx)("div",{className:"logo",children:Object(w.jsx)("img",{src:"https://i.ibb.co/P6ZGx4N/madeby.png",alt:"made by sara bertuldo",height:"50",width:"250"})})})})]})})})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},J=n(17);var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return[].concat(Object(S.a)(e),[t.onTour]);case g:var n=Object(S.a)(e),a=n.findIndex((function(e){return e.id===t.id}));return n.splice(a,1),n;default:return e}},K={username:"",id:null,role:""};var Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(p.a)(Object(p.a)({},e),{},{username:t.username});case h:return Object(p.a)(Object(p.a)({},e),{},{username:""});default:return e}},z=[];var X=Object(J.b)({user:Q,onTour:V,gear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(p.a)({},t.gear);default:return e}}}),Y=Object(J.c)(X);s.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(j.a,{store:Y,children:Object(w.jsx)(H,{})})}),document.getElementById("root")),Z()}},[[74,1,2]]]);
//# sourceMappingURL=main.dda8d957.chunk.js.map